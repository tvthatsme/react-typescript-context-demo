(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(5),u=n.n(c),l=(n(12),n(1));!function(e){e.CREATE="create",e.VIEW_AND_UPDATE="view-and-update"}(a||(a={}));var m,o=r.createContext(void 0),s=r.createContext(void 0),d=function(e){var t=e.children,n=e.initialPage,i=void 0===n?a.VIEW_AND_UPDATE:n,c=r.useState(i),u=Object(l.a)(c,2),m=u[0],d=u[1];return r.createElement(o.Provider,{value:m},r.createElement(s.Provider,{value:d},t))},E=n(3),v=n(2),f=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},b=function(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()};!function(e){e.ADD_MEMBER="ADD_MEMBER",e.EDIT_MEMBER="EDIT_MEMBER",e.DELETE_MEMBER="DELETE_MEMBER"}(m||(m={}));var p=r.createContext(void 0),N=r.createContext(void 0),h=function(e,t){switch(t.type){case m.ADD_MEMBER:var n=Object(v.a)({},t.member,{id:b()});return Object(v.a)({},e,{audience:[].concat(Object(E.a)(e.audience),[n])});case m.EDIT_MEMBER:var a=e.audience.filter(function(e){return e.id!==t.member.id});return Object(v.a)({},e,{audience:[].concat(Object(E.a)(a),[t.member])});case m.DELETE_MEMBER:var r=e.audience.filter(function(e){return e.id!==t.member.id});return Object(v.a)({},e,{audience:Object(E.a)(r)});default:return e}},D=function(e){var t=e.children,n=r.useReducer(h,{audience:[]}),a=Object(l.a)(n,2),i=a[0],c=a[1];return r.createElement(p.Provider,{value:i},r.createElement(N.Provider,{value:c},t))},M=function(e){var t=e.children;return r.createElement(d,null,r.createElement(D,null,t))},g=function(e){var t=e.children,n=e.pageName,i=function(){var e=r.useContext(o);if(void 0===e)throw new Error("useCurrentPage must be used within a CurrentPageProvider");return e}(),c=function(){var e=r.useContext(s);if(void 0===e)throw new Error("useCurrentPage must be used within a CurrentPageProvider");return e}(),u=Object.values(a).filter(function(e){return e!==n});return i===n?r.createElement("div",{className:"page"},r.createElement("div",{className:"navigation"},u.map(function(e){return r.createElement("a",{key:e,href:e,onClick:function(t){!function(e,t){e.preventDefault(),c(t)}(t,e)},className:"navigation-link"},e)})),t):null},w=function(e,t){var n=e.firstName.toLowerCase(),a=t.firstName.toLowerCase();return n<a?-1:n>a?1:0},C=function(e){var t=e.audience,n=e.handleSelection,a=t.sort(w);return a.length>0?r.createElement("div",{className:"audience-list"},r.createElement("ul",{className:"list"},a.map(function(e){return r.createElement("li",{key:e.id,className:"audience-member"},r.createElement("div",{onClick:function(){return n(e)}},r.createElement("p",{className:"audience-name"},e.firstName),r.createElement("p",{className:"audience-name"},e.lastName),r.createElement("p",{className:"audience-email"},e.email)))}))):r.createElement("div",{className:"audience-list"},r.createElement("p",null,"There is nobody in your audience yet."))},y=function(e){var t=e.member,n=e.handleDelete,a=void 0!==t,i=t||{firstName:"",lastName:"",email:""},c=r.useState(i.firstName),u=Object(l.a)(c,2),o=u[0],s=u[1],d=r.useState(i.lastName),E=Object(l.a)(d,2),f=E[0],b=E[1],p=r.useState(i.email),h=Object(l.a)(p,2),D=h[0],M=h[1],g=r.useState(!1),w=Object(l.a)(g,2),C=w[0],y=w[1],A=function(){var e=r.useContext(N);if(void 0===e)throw new Error("useAudienceListReducer must be used within a AudienceListProvider");return e}();r.useEffect(function(){s(i.firstName),b(i.lastName),M(i.email)},[i.firstName,i.lastName,i.email]);var _=a?"User successfully updated!":"New user successfully added!";return r.createElement("form",{onSubmit:function(e){e.preventDefault();var n={firstName:o,lastName:f,email:D};void 0===t?(A({type:m.ADD_MEMBER,member:n}),s(""),b(""),M("")):A({type:m.EDIT_MEMBER,member:Object(v.a)({},n,{id:t.id})}),y(!0)}},r.createElement("div",null,r.createElement("label",{htmlFor:"first-name"},"First name"),r.createElement("input",{id:"first-name",type:"text",required:!0,value:o,onChange:function(e){s(e.currentTarget.value),y(!1)}})),r.createElement("div",null,r.createElement("label",{htmlFor:"last-name"},"Last name"),r.createElement("input",{id:"last-name",type:"text",required:!0,value:f,onChange:function(e){b(e.currentTarget.value),y(!1)}})),r.createElement("div",null,r.createElement("label",{htmlFor:"email"},"Email address"),r.createElement("input",{id:"email",type:"email",required:!0,value:D,onChange:function(e){M(e.currentTarget.value),y(!1)}})),a&&r.createElement("button",{type:"button",className:"button button--secondary",onClick:function(){t&&(A({type:m.DELETE_MEMBER,member:t}),n&&n())}},"Delete"),r.createElement("button",{type:"submit",className:"button"},a?"Update":"Add"),C&&r.createElement("p",null,_))},A=a.VIEW_AND_UPDATE,_=function(){var e=function(){var e=r.useContext(p);if(void 0===e)throw new Error("useAudienceList must be used within a AudienceListProvider");return e.audience}(),t=r.useState(void 0),n=Object(l.a)(t,2),a=n[0],i=n[1];r.useEffect(function(){if(void 0!==a){var t=e.find(function(e){return!!a&&e.id===a.id});t&&i(t)}},[e,a]);return r.createElement(g,{pageName:A},r.createElement("h1",{className:"header"},"View and Update"),r.createElement("div",{className:"page-content"},r.createElement(C,{audience:e,handleSelection:function(e){i(e)}}),r.createElement("div",{className:"form-area"},void 0!==a?r.createElement(y,{member:a,handleDelete:function(){i(void 0)}}):null,void 0===a&&e.length>0?r.createElement("p",null,"Select an audience member to edit"):null)))},T=a.CREATE,j=function(){return r.createElement(g,{pageName:T},r.createElement("h1",{className:"header"},"Create"),r.createElement("div",{className:"page-content page-content--reverse"},r.createElement("div",{className:"form-area form-area--left"},r.createElement(y,null)),r.createElement("div",null)))},O=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(M,null,i.a.createElement(_,null),i.a.createElement(j,null)))};u.a.render(i.a.createElement(O,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.4955167e.chunk.js.map